curl -i -k -u admin:CodexIfabric@123 -s  https://dj.codex-ifabric.net/gateway/platform/nifi-app/nifi-api/flow/process-groups/7c84501d-d10c-407c-b9f3-1d80e38fe36a/controller-services | grep -Po '"clientId":.*?[^\\]",' |awk -F" " '!_[$1]'| sed -e 's/\(^.*:"\)\(.*\)\(",.*$\)/\2/' | head -1




{"currentTime":"09:21:24 UTC","controllerServices":[{"revision":{"version":0},"id":"d00f5e94-9014-36ca-9657-265915dfad01","uri":"https://dj.codex-ifabric.net:443/gateway/platform/nifi-app/nifi-api/controller-services/d00f5e94-9014-36ca-9657-265915dfad01","permissions":{"canRead":true,"canWrite":true},"bulletins":[],"parentGroupId":"7c84501d-d10c-407c-b9f3-1d80e38fe36a","component":{"id":"d00f5e94-9014-36ca-9657-265915dfad01","parentGroupId":"7c84501d-d10c-407c-b9f3-1d80e38fe36a","name":"HBase_1_1_2_ClientService","type":"org.apache.nifi.hbase.HBase_1_1_2_ClientService","bundle":{"group":"org.apache.nifi","artifact":"nifi-hbase_1_1_2-client-service-nar","version":"1.9.0.3.4.0.0-155"},"controllerServiceApis":[{"type":"org.apache.nifi.hbase.HBaseClientService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.9.0.3.4.0.0-155"}}],"comments":"","state":"DISABLED","persistsState":false,"restricted":false,"deprecated":false,"multipleVersionsAvailable":false,"properties":{"Hadoop Configuration Files":"/etc/hbase/conf/hbase-site.xml,/etc/hadoop/conf/core-site.xml","kerberos-credentials-service":null,"Kerberos Principal":"nifi/do-master-05.codex-ifabric.net@CODEX-IFABRIC.NET","Kerberos Keytab":"/etc/security/keytabs/nifi.service.keytab","ZooKeeper Quorum":null,"ZooKeeper Client Port":null,"ZooKeeper ZNode Parent":null,"HBase Client Retries":"1","Phoenix Client JAR Location":null},"descriptors":{"Hadoop Configuration Files":{"name":"Hadoop Configuration Files","displayName":"Hadoop Configuration Files","description":"Comma-separated list of Hadoop Configuration files, such as hbase-site.xml and core-site.xml for kerberos, including full paths to the files.","required":false,"sensitive":false,"dynamic":false,"supportsEl":true,"expressionLanguageScope":"Variable Registry Only"},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","description":"Specifies the Kerberos Credentials Controller Service that should be used for authenticating with Kerberos","allowableValues":[],"required":false,"sensitive":false,"dynamic":false,"supportsEl":false,"expressionLanguageScope":"Not Supported","identifiesControllerService":"org.apache.nifi.kerberos.KerberosCredentialsService","identifiesControllerServiceBundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.9.0.3.4.0.0-155"}},"Kerberos Principal":{"name":"Kerberos Principal","displayName":"Kerberos Principal","description":"Kerberos principal to authenticate as. Requires nifi.kerberos.krb5.file to be set in your nifi.properties","required":false,"sensitive":false,"dynamic":false,"supportsEl":true,"expressionLanguageScope":"Variable Registry Only"},"Kerberos Keytab":{"name":"Kerberos Keytab","displayName":"Kerberos Keytab","description":"Kerberos keytab associated with the principal. Requires nifi.kerberos.krb5.file to be set in your nifi.properties","required":false,"sensitive":false,"dynamic":false,"supportsEl":true,"expressionLanguageScope":"Variable Registry Only"},"ZooKeeper Quorum":{"name":"ZooKeeper Quorum","displayName":"ZooKeeper Quorum","description":"Comma-separated list of ZooKeeper hosts for HBase. Required if Hadoop Configuration Files are not provided.","required":false,"sensitive":false,"dynamic":false,"supportsEl":true,"expressionLanguageScope":"Variable Registry Only"},"ZooKeeper Client Port":{"name":"ZooKeeper Client Port","displayName":"ZooKeeper Client Port","description":"The port on which ZooKeeper is accepting client connections. Required if Hadoop Configuration Files are not provided.","required":false,"sensitive":false,"dynamic":false,"supportsEl":true,"expressionLanguageScope":"Variable Registry Only"},"ZooKeeper ZNode Parent":{"name":"ZooKeeper ZNode Parent","displayName":"ZooKeeper ZNode Parent","description":"The ZooKeeper ZNode Parent value for HBase (example: /hbase). Required if Hadoop Configuration Files are not provided.","required":false,"sensitive":false,"dynamic":false,"supportsEl":true,"expressionLanguageScope":"Variable Registry Only"},"HBase Client Retries":{"name":"HBase Client Retries","displayName":"HBase Client Retries","description":"The number of times the HBase client will retry connecting. Required if Hadoop Configuration Files are not provided.","defaultValue":"1","required":false,"sensitive":false,"dynamic":false,"supportsEl":true,"expressionLanguageScope":"Variable Registry Only"},"Phoenix Client JAR Location":{"name":"Phoenix Client JAR Location","displayName":"Phoenix Client JAR Location","description":"The full path to the Phoenix client JAR. Required if Phoenix is installed on top of HBase.","required":false,"sensitive":false,"dynamic":false,"supportsEl":true,"expressionLanguageScope":"Variable Registry Only"}},"referencingComponents":[{"revision":{"version":0,"lastModifier":"admin"},"id":"fe1298f2-9ee3-3dad-9e0e-86708e86ae87","permissions":{"canRead":true,"canWrite":true},"component":{"groupId":"7c84501d-d10c-407c-b9f3-1d80e38fe36a","id":"fe1298f2-9ee3-3dad-9e0e-86708e86ae87","name":"PutHBaseJSON","type":"PutHBaseJSON","state":"STOPPED","properties":{"HBase Client Service":"d00f5e94-9014-36ca-9657-265915dfad01","Table Name":"sense_hat_logs","Row Identifier":null,"Row Identifier Field Name":"Timestamp","Row Identifier Encoding Strategy":"String","Column Family":"weather","timestamp":null,"Batch Size":"25","Complex Field Strategy":"Text","Field Encoding Strategy":"String"},"descriptors":{"HBase Client Service":{"name":"HBase Client Service","displayName":"HBase Client Service","description":"Specifies the Controller Service to use for accessing HBase.","allowableValues":[{"allowableValue":{"displayName":"HBase_1_1_2_ClientService","value":"d00f5e94-9014-36ca-9657-265915dfad01"},"canRead":true}],"required":true,"sensitive":false,"dynamic":false,"supportsEl":false,"expressionLanguageScope":"Not Supported","identifiesControllerService":"org.apache.nifi.hbase.HBaseClientService","identifiesControllerServiceBundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.9.0.3.4.0.0-155"}},"Table Name":{"name":"Table Name","displayName":"Table Name","description":"The name of the HBase Table to put data into","required":true,"sensitive":false,"dynamic":false,"supportsEl":true,"expressionLanguageScope":"Variable Registry and FlowFile Attributes"},"Row Identifier":{"name":"Row Identifier","displayName":"Row Identifier","description":"Specifies the Row ID to use when inserting data into HBase","required":false,"sensitive":false,"dynamic":false,"supportsEl":true,"expressionLanguageScope":"Variable Registry and FlowFile Attributes"},"Row Identifier Field Name":{"name":"Row Identifier Field Name","displayName":"Row Identifier Field Name","description":"Specifies the name of a JSON element whose value should be used as the row id for the given JSON document.","required":false,"sensitive":false,"dynamic":false,"supportsEl":true,"expressionLanguageScope":"Variable Registry and FlowFile Attributes"},"Row Identifier Encoding Strategy":{"name":"Row Identifier Encoding Strategy","displayName":"Row Identifier Encoding Strategy","description":"Specifies the data type of Row ID used when inserting data into HBase. The default behavior is to convert the row id to a UTF-8 byte array. Choosing Binary will convert a binary formatted string to the correct byte[] representation. The Binary option should be used if you are using Binary row keys in HBase","defaultValue":"String","allowableValues":[{"allowableValue":{"displayName":"String","value":"String","description":"Stores the value of row id as a UTF-8 String."},"canRead":true},{"allowableValue":{"displayName":"Binary","value":"Binary","description":"Stores the value of the rows id as a binary byte array. It expects that the row id is a binary formatted string."},"canRead":true}],"required":false,"sensitive":false,"dynamic":false,"supportsEl":false,"expressionLanguageScope":"Not Supported"},"Column Family":{"name":"Column Family","displayName":"Column Family","description":"The Column Family to use when inserting data into HBase","required":true,"sensitive":false,"dynamic":false,"supportsEl":true,"expressionLanguageScope":"Variable Registry and FlowFile Attributes"},"timestamp":{"name":"timestamp","displayName":"Timestamp","description":"The timestamp for the cells being created in HBase. This field can be left blank and HBase will use the current time.","required":false,"sensitive":false,"dynamic":false,"supportsEl":true,"expressionLanguageScope":"Variable Registry and FlowFile Attributes"},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","description":"The maximum number of FlowFiles to process in a single execution. The FlowFiles will be grouped by table, and a single Put per table will be performed.","defaultValue":"25","required":true,"sensitive":false,"dynamic":false,"supportsEl":false,"expressionLanguageScope":"Not Supported"},"Complex Field Strategy":{"name":"Complex Field Strategy","displayName":"Complex Field Strategy","description":"Indicates how to handle complex fields, i.e. fields that do not have a single text value.","defaultValue":"Text","allowableValues":[{"allowableValue":{"displayName":"Fail","value":"Fail","description":"Route entire FlowFile to failure if any elements contain complex values."},"canRead":true},{"allowableValue":{"displayName":"Warn","value":"Warn","description":"Provide a warning and do not include field in row sent to HBase."},"canRead":true},{"allowableValue":{"displayName":"Ignore","value":"Ignore","description":"Silently ignore and do not include in row sent to HBase."},"canRead":true},{"allowableValue":{"displayName":"Text","value":"Text","description":"Use the string representation of the complex field as the value of the given column."},"canRead":true}],"required":true,"sensitive":false,"dynamic":false,"supportsEl":false,"expressionLanguageScope":"Not Supported"},"Field Encoding Strategy":{"name":"Field Encoding Strategy","displayName":"Field Encoding Strategy","description":"Indicates how to store the value of each field in HBase. The default behavior is to convert each value from the JSON to a String, and store the UTF-8 bytes. Choosing Bytes will interpret the type of each field from the JSON, and convert the value to the byte representation of that type, meaning an integer will be stored as the byte representation of that integer.","defaultValue":"String","allowableValues":[{"allowableValue":{"displayName":"String","value":"String","description":"Stores the value of each field as a UTF-8 String."},"canRead":true},{"allowableValue":{"displayName":"Bytes","value":"Bytes","description":"Stores the value of each field as the byte representation of the type derived from the JSON."},"canRead":true}],"required":true,"sensitive":false,"dynamic":false,"supportsEl":false,"expressionLanguageScope":"Not Supported"}},"validationErrors":["'HBase Client Service' validated against 'd00f5e94-9014-36ca-9657-265915dfad01' is invalid because Controller Service with ID d00f5e94-9014-36ca-9657-265915dfad01 is disabled"],"referenceType":"Processor","activeThreadCount":0},"operatePermissions":{"canRead":true,"canWrite":true}}],"validationErrors":[],"validationStatus":"VALID","extensionMissing":false},"operatePermissions":{"canRead":true,"canWrite":true},"status":{"runStatus":"DISABLED","validationStatus":"VALID"}}]}




curl -i -k -u admin:CodexIfabric@123 -s  https://dj.codex-ifabric.net/gateway/platform/nifi-app/nifi-api/flow/process-groups/7c84501d-d10c-407c-b9f3-1d80e38fe36a/controller-services | grep -Po '"clientId":.*?[^\\]",' |awk -F" " '!_[$1]'| sed -e 's/\(^.*:"\)\(.*\)\(",.*$\)/\2/' | head -1

curl -i -k -u admin:CodexIfabric@123 -X PUT -H 'Content-Type:application/json' -d '{"revision":{"version":3},"component":{"id":"'"d00f5e94-9014-36ca-af03-cfecea06c73a"'","state":"ENABLED"}}' https://dj.codex-ifabric.net/gateway/platform/nifi-app/nifi-api/controller-services/d00f5e94-9014-36ca-af03-cfecea06c73a

curl -i -k -u admin:CodexIfabric@123 -s https://dj.codex-ifabric.net/gateway/platform/nifi-app/nifi-api/controller-services/7c84501d-d10c-407c-b9f3-1d80e38fe36a